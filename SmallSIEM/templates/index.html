<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySQL Database Frontend</title>
</head>
<body>

<h1>MySQL Database Frontend</h1>

<!-- Display Records -->
<h2>Display Records</h2>
<form action="/display_records" method="post">
    <label for="table_name">Table Name:</label>
    <input type="text" id="table_name" name="table_name" required>
    <button type="submit">Display Records</button>
</form>
{% if display_records_result %}
    <h2>Displaying Records from {{ display_records_table_name }}</h2>

    <table border="1">
        <tr>
            <!-- Assuming display_records_result is a list of tuples -->
            {% for column in display_records_result[0] %}
                <th>{{ column[0] }}</th>
            {% endfor %}
        </tr>
        {% for record in display_records_result %}
            <tr>
                {% for value in record %}
                    <td>{{ value }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
    <h3>Debug Information:</h3>
    <p>Columns: {{ display_records_result[0] }}</p>
    <p>Records: {{ display_records_result }}</p>
    <p>Table Name: {{ display_records_table_name }}</p>
{% endif %}

<!-- Query with Filters -->
<h2>Query with Filters</h2>
<form action="/query_with_filters" method="post">
    <label for="table_name_filter">Table Name:</label>
    <input type="text" id="table_name_filter" name="table_name_filter" required>
    <label for="column">Column:</label>
    <input type="text" id="column" name="column" required>
    <label for="value">Value:</label>
    <input type="text" id="value" name="value" required>
    <button type="submit">Query with Filters</button>
</form>
{% if query_with_filters_result %}
    <h2>Query with Filters Result</h2>

    <table border="1">
        <tr>
            
            {% for column in query_with_filters_result[0] %}
                <th>{{ column[0] }}</th>
            {% endfor %}
        </tr>
        {% for record in query_with_filters_result %}
            <tr>
                {% for value in record %}
                    <td>{{ value }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
{% endif %}


<!-- Create New Record -->
<h2>Create New Record</h2>
<form action="/create_new_record" method="post">
    <label for="table_name">Enter Table Name:</label>
    <input type="text" id="table_name" name="table_name" required>
    <br>
    <button type="submit">Create New Record</button>
</form>


<!-- Delete Records -->
<h2>Delete Records</h2>
<form action="/delete_records" method="post">
    <label for="table_name_delete">Table Name:</label>
    <input type="text" id="table_name_delete" name="table_name_delete" required>
    <label for="condition">Condition:</label>
    <input type="text" id="condition" name="condition" required>
    <button type="submit">Delete Records</button>
</form>
{% if delete_records_success %}
    <h2>Records deleted successfully.</h2>
{% endif %}

<!-- Update Records -->
<h2>Update Records</h2>
<form action="/update_records" method="post">
    <label for="table_name_update">Table Name:</label>
    <input type="text" id="table_name_update" name="table_name_update" required>
    <label for="column_update">Column:</label>
    <input type="text" id="column_update" name="column_update" required>
    <label for="value_update">Value:</label>
    <input type="text" id="value_update" name="value_update" required>
    <label for="condition_update">Condition:</label>
    <input type="text" id="condition_update" name="condition_update" required>
    <button type="submit">Update Records</button>
</form>
{% if update_records_success %}
    <h2>Records updated successfully.</h2>
{% endif %}

<!-- Create New Record within a Transaction -->
<h2>Create New Record within a Transaction</h2>
<form action="/create_new_record_transaction" method="post">
    <label for="table_name_transaction">Table Name:</label>
    <input type="text" id="table_name_transaction" name="table_name_transaction" required>
    <label for="values_transaction">Values (comma-separated):</label>
    <input type="text" id="values_transaction" name="values_transaction" required>
    <button type="submit">Create New Record (Transaction)</button>
</form>
{% if create_new_record_transaction_success is defined %}
    {% if create_new_record_transaction_success %}
        <h2>New record inserted successfully within a transaction.</h2>
    {% else %}
        <h2>Error occurred during transaction. Rollback applied.</h2>
    {% endif %}
{% endif %}

<!-- Generate Report -->
<h2>Generate Report</h2>
<form action="/generate_report" method="post">
    <label for="table_name_report">Table Name:</label>
    <input type="text" id="table_name_report" name="table_name_report" required>
    <label for="output_name">Output Name:</label>
    <input type="text" id="output_name" name="output_name" required>
    <button type="submit">Generate Report</button>
</form>
{% if generate_report_success %}
    <h2>Report generated successfully.</h2>
{% endif %}

<!-- Perform Aggregation/Group-By -->
<h2>Perform Aggregation/Group-By</h2>
<form action="/perform_aggregation" method="post">
    <label for="operation">Operation:</label>
    <input type="text" id="operation" name="operation" required>
    <label for="table_aggregation">Table Name:</label>
    <input type="text" id="table_aggregation" name="table_aggregation" required>
    <label for="value_aggregation">Value:</label>
    <input type="text" id="value_aggregation" name="value_aggregation" required>
    <button type="submit">Perform Aggregation</button>
</form>
{% if perform_aggregation_result %}
    <h2>Aggregated Result</h2>

    <table border="1">
        <tr>
            <!-- Assuming perform_aggregation_result is a list of tuples -->
            {% for column in perform_aggregation_result[0] %}
                <th>{{ column[0] }}</th>
            {% endfor %}
        </tr>
        {% for record in perform_aggregation_result %}
            <tr>
                {% for value in record %}
                    <td>{{ value }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
{% endif %}

<!-- Use Subquery -->
<h2>Use Subquery</h2>
<form action="/use_subquery" method="post">
    <button type="submit">Use Subquery</button>
</form>
{% if use_subquery_result %}
    <h2>Subquery Result</h2>

    <table border="1">
        <tr>
            <!-- Assuming use_subquery_result is a list of tuples -->
            {% for column in use_subquery_result[0] %}
                <th>{{ column[0] }}</th>
            {% endfor %}
        </tr>
        {% for record in use_subquery_result %}
            <tr>
                {% for value in record %}
                    <td>{{ value }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
{% endif %}

<!-- Perform Joins -->
<h2>Perform Joins</h2>
<form action="/perform_joins" method="post">
    <button type="submit">Perform Joins</button>
</form>
{% if perform_joins_result %}
    <h2>Joined Result</h2>

    <table border="1">
        <tr>
            <!-- Assuming perform_joins_result is a list of tuples -->
            {% for column in perform_joins_result[0] %}
                <th>{{ column[0] }}</th>
            {% endfor %}
        </tr>
        {% for record in perform_joins_result %}
            <tr>
                {% for value in record %}
                    <td>{{ value }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
{% endif %}

</body>
</html>
